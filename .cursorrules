# VibrationFit Project Rules

## ğŸ”’ FEATURE REGISTRY (READ THIS FIRST!)

**CRITICAL:** Before modifying ANY feature, check `FEATURE_REGISTRY.md` in the project root.

| Status | Your Action |
|--------|-------------|
| ğŸ”’ **LOCKED** | **DO NOT MODIFY** without explicit user permission. Feature is working in production. |
| âœ… **STABLE** | Modify with extreme caution. Test thoroughly after any changes. |
| ğŸš§ **IN PROGRESS** | Safe to modify. |
| âš ï¸ **NEEDS REVIEW** | Verify it works before relying on it. |

**Before touching Life Vision, Token System, Design System, or Database Schema:**
1. Read `FEATURE_REGISTRY.md` 
2. Check feature status
3. If ğŸ”’ LOCKED, ask user for permission
4. Document current behavior
5. Create test plan
6. Make changes incrementally
7. Test ENTIRE feature (not just your change)
8. Update version in registry

---

## ğŸ“ File Organization (CRITICAL - READ FIRST)

### Documentation Files
**NEVER create documentation files in project root!** Always use the appropriate folder:

| File Type | Location | Examples |
|-----------|----------|----------|
| **Database docs** | `supabase/` | Schema dumps, migration guides |
| **Feature docs** | `docs/` | Implementation guides, expert guides |
| **API docs** | `docs/api/` | API endpoint documentation |
| **Design docs** | `docs/design/` | Design system, brand guidelines |
| **Deployment docs** | `docs/deployment/` | Deployment checklists, strategies |
| **Architecture docs** | `docs/architecture/` | System architecture, data flow |
| **Project planning** | `docs/planning/` | Feature plans, roadmaps |

### Database Files
**ALL database-related files go in `supabase/`:**

```
supabase/
â”œâ”€â”€ COMPLETE_SCHEMA_DUMP.sql    â† Production schema dump (source of truth)
â”œâ”€â”€ CURRENT_SCHEMA.md           â† Human-readable schema docs
â”œâ”€â”€ MIGRATION_STRATEGY.md       â† Migration workflow guide
â”œâ”€â”€ migrations/                 â† Active migration files
â”‚   â””â”€â”€ YYYYMMDDHHMMSS_description.sql
â””â”€â”€ archive/                    â† Archived/old files
```

**Reference for schema questions:**
- âœ… `supabase/CURRENT_SCHEMA.md` (human-readable)
- âœ… `supabase/COMPLETE_SCHEMA_DUMP.sql` (exact definitions)
- âŒ DO NOT reference files in `supabase/archive/` (outdated)

### Source Code Files
**Application code structure:**

```
src/
â”œâ”€â”€ app/                        â† Next.js pages & API routes
â”‚   â”œâ”€â”€ api/                    â† API endpoints
â”‚   â”œâ”€â”€ (auth)/                 â† Auth-related pages
â”‚   â”œâ”€â”€ dashboard/              â† Dashboard pages
â”‚   â””â”€â”€ life-vision/            â† Life vision features
â”œâ”€â”€ components/                 â† React components
â”œâ”€â”€ lib/                        â† Utility libraries
â”‚   â”œâ”€â”€ design-system/          â† Design system components
â”‚   â”œâ”€â”€ viva/                   â† VIVA AI system
â”‚   â”‚   â”œâ”€â”€ prompts/            â† Centralized AI prompts
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ supabase/               â† Supabase client utilities
â”‚   â””â”€â”€ ...
â””â”€â”€ hooks/                      â† React hooks
```

### Rules for Creating New Files

**Documentation:**
1. âŒ NEVER create `.md` files in project root
2. âœ… ALWAYS place in appropriate `docs/` subfolder
3. âœ… Update `docs/README.md` if creating new category
4. âœ… ALWAYS add date header to guide docs (Last Updated: Month Day, Year)

**Migrations:**
1. âŒ NEVER create migration files outside `supabase/migrations/`
2. âœ… Use timestamp format: `YYYYMMDDHHMMSS_description.sql`
3. âœ… Create the migration file, then STOP - user will run it manually
4. âš ï¸ NEVER update `supabase/COMPLETE_SCHEMA_DUMP.sql` or `supabase/CURRENT_SCHEMA.md` automatically
5. â„¹ï¸ User will update schema docs after manually running the migration

**AI Prompts:**
1. âŒ NEVER embed prompts directly in API routes
2. âœ… Centralize in `src/lib/viva/prompts/`
3. âœ… Export through `src/lib/viva/prompts/index.ts`

**Temporary/Debug Files:**
1. âŒ NEVER commit debug files to root
2. âœ… Use `temp/` folder (gitignored)
3. âœ… One-off scripts go in `scripts/[category]/`
4. âœ… Clean up after debugging

**Utility Scripts:**
1. âœ… Place in `scripts/database/`, `scripts/lambda/`, `scripts/video/`, etc.
2. âœ… After running successfully, move to `scripts/archive/`
3. âŒ NEVER commit large zip files (add to .gitignore)

**AWS Deployment:**
1. âŒ NEVER commit Lambda layers to git (use AWS deployment)
2. âŒ NEVER commit Lambda functions (functions/) - deploy to AWS
3. âŒ NEVER commit production data dumps (production-*.json)
4. âœ… Place AWS configs in `scripts/aws/`
5. âœ… Keep AWS scripts for deployment automation

### Before Creating Any File, Ask:
1. **Is this documentation?** â†’ `docs/[category]/`
2. **Is this database-related?** â†’ `supabase/`
3. **Is this a component?** â†’ `src/components/`
4. **Is this a utility?** â†’ `src/lib/`
5. **Is this a page?** â†’ `src/app/`
6. **Is this an API?** â†’ `src/app/api/`

### File Naming Conventions
- **Components:** PascalCase (`UserProfile.tsx`)
- **Utilities:** kebab-case (`text-metrics.ts`)
- **API routes:** kebab-case (`route.ts` in folder)
- **Docs:** SCREAMING_SNAKE_CASE or kebab-case (`MIGRATION_STRATEGY.md`)
- **Migrations:** `YYYYMMDDHHMMSS_description.sql`

---

## ğŸ¨ VibrationFit Design System Rules

### Core Principle
Always reference `vibrationfit-brand-kit.html` for design patterns and visual style. This is the single source of truth for VibrationFit's brand aesthetic.

**For detailed component examples, color system, and design patterns, see:**
- `docs/agent-guides/DESIGN_SYSTEM_REFERENCE.md` (complete reference)

### Quick Reference

**Components:** Import from `@/lib/design-system/components`
- `Button` variants: `primary`, `secondary`, `accent`, `ghost`, `outline`, `danger`
- `GradientButton` for hero sections (gradients: `brand`, `green`, `teal`, `purple`, `cosmic`)
- `AIButton` for AI Assistant features
- `Card` variants: `default`, `elevated`, `outlined`
- Other: `Input`, `Textarea`, `Badge`, `ProgressBar`, `Spinner`, `Container`, `PageLayout`, `Footer`

**Brand Colors:**
- Primary Green: `#199D67` (growth, alignment, "above the Green Line")
- Secondary Teal: `#14B8A6` (clarity, flow)
- Accent Purple: `#8B5CF6` (premium, AI)
- Energy Yellow: `#FFB701` (celebration, wins)
- Contrast Red: `#D03739` (alerts, "below Green Line")

**Design Principles:**
- Buttons: Always pill-shaped (`rounded-full`), hover lift 2px, 300ms transitions
- Cards: `rounded-2xl`, 2px borders (#333), hover lift 4px, `p-8` padding
- Spacing: Container `px-6`, sections `mb-12` to `mb-16`, cards `gap-6` to `gap-8`

**Brand Voice:**
- Use "Above the Green Line" for aligned/success states
- Use "Below the Green Line" for contrast/awareness moments
- Say "Actualize" not "Complete" or "Finish"
- Say "Vision" not "Goal" or "Plan"
- Say "Alignment" not "Progress"
- **NEVER use "AI"** - Always say "VIVA" for AI-related features, descriptions, and references

**File References:**
- Brand Kit: `vibrationfit-brand-kit.html` (visual reference)
- Components: `/src/lib/design-system/components.tsx`
- Tokens: `/src/lib/design-system/tokens.ts`

---

## Code & Component Rules

### NO EMOJIS IN CODE

**CRITICAL:** Never use emojis in code, components, or user-facing content.

**âŒ NEVER:**
- Use emoji characters in JSX/TSX components
- Add emojis to button labels, headings, or UI text
- Include emojis in error messages or notifications
- Use emojis in variable names or comments

**âœ… ALWAYS:**
- Use Lucide React icons for all visual elements
- Import from `lucide-react` package
- Choose semantic icon names that match the context
- Apply consistent sizing and styling via Tailwind classes

**Example:**
```tsx
import { CheckCircle, AlertCircle, Sparkles } from 'lucide-react';

// âœ… Good - Lucide icons
<Button>
  <CheckCircle className="w-4 h-4 mr-2" />
  Success
</Button>

// âŒ Bad - Emojis
<Button>âœ¨ Success</Button>
```

**Note:** Emojis in documentation files (`.md`) and this `.cursorrules` file are acceptable for visual organization, but never in actual code.

### TERMINOLOGY: VIVA, NOT "AI"

**CRITICAL:** Always use "VIVA" (VibrationFit's branded AI assistant) instead of generic "AI" terminology.

**âŒ NEVER:**
- Use "AI" in user-facing text, labels, or descriptions
- Say "AI Assistant" or "AI Coach"
- Write "Powered by AI" or "AI-generated"
- Use "Ask AI" or "AI Help"

**âœ… ALWAYS:**
- Use "VIVA" or "VIVA Assistant"
- Say "VIVA Coach" or "Your VIVA Coach"
- Write "Powered by VIVA" or "VIVA-generated"
- Use "Ask VIVA" or "VIVA Help"

**Examples:**
- âœ… "Get personalized guidance from VIVA"
- âŒ "Get AI-powered recommendations"
- âœ… "VIVA will help you create your vision"
- âŒ "Our AI assistant will guide you"

**Note:** Component names like `AIButton` or technical variable names may retain "AI" for code clarity, but all user-facing content must use "VIVA".

---

## ğŸ“ Documentation Guidelines

**IMPORTANT:** Only create docs when they provide lasting value. Avoid doc debt!

**For complete documentation guidelines, see:**
- `docs/agent-guides/DOCUMENTATION_GUIDELINES.md` (complete reference)

### Quick Reference

**Auto-Generated Docs:**
- Database Schema: Run `npm run docs:schema`
- API Endpoints: Run `npm run docs:api`
- Constants: Run `npm run docs:constants`
- **DO NOT** edit `docs/generated/` files manually

**Never Create:**
- Status docs ("COMPLETE", "SUCCESS", "STATUS", "FIXED") - use git commits
- Docs in project root - use appropriate `/docs/` subfolder
- Dated docs - use descriptive names

**Where to Put Docs:**
- Architecture â†’ `docs/architecture/`
- Features â†’ `docs/features/[feature-name]/`
- Database â†’ `docs/database/` or `supabase/`
- VIVA/AI â†’ `docs/viva/`
- Design System â†’ `docs/design-system/`
- Technical Decisions â†’ `docs/technical/`

**Doc Headers Required:**
```markdown
# Document Title

**Last Updated:** Month Day, Year  
**Status:** Active | Archived | Deprecated
```

---

**Remember:** Reference detailed guides in `docs/agent-guides/` for complete examples and patterns.

